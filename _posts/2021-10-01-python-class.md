---
layout: post
title: "Pythonä¸­çš„ç±»ä¸å¯¹è±¡"
subtitle: "Python Class"
date: 2020-10-25
author: "NKQ"
header-img: "img/home-bg-art.jpg"
tags:
 - Python
---

## <kbd>\_\_init\_\_</kbd>å’Œ<kbd>\_\_new\_\_</kbd>

Pythonä¸­<kbd>_\_init\_\_</kbd>æ–¹æ³•çš„å­˜åœ¨ä½œç”¨æ˜¯åˆå§‹åŒ–å®ä¾‹å¯¹è±¡ï¼Œæ­¤æ–¹æ³•åœ¨ç±»çš„å®ä¾‹åˆ›å»ºåä¼šè¢«è‡ªåŠ¨æ‰§è¡Œä»¥åˆå§‹åŒ–å¯¹è±¡
<kbd>\_\_new\_\_</kbd>æ˜¯çœŸæ­£çš„â€œæ„é€ æ–¹æ³•â€ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹

çœ‹ä¸€ä¸‹<kbd>_\_init\_\_</kbd>çš„ä½¿ç”¨

```python
class Person(object):
    def __init__(self, name, age):
        print("æˆ‘æ˜¯__init__")
        self.name = name
        self.age = age 

p = Person("ning", 22) 
print(p.name)  # è®¿é—®å®ä¾‹å˜é‡name
print(p.age)  # è®¿é—®å®ä¾‹å˜é‡age

è¿è¡Œç»“æœï¼š
æˆ‘æ˜¯__init__  # å®ä¾‹åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œ__init__æ–¹æ³•
ning
22
```

åœ¨ç±»çš„å®ä¾‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è°ƒç”¨äº†<kbd>\_\_init\_\_</kbd>æ–¹æ³•

åœ¨æ‰§è¡Œ<kbd>\_\_init\_\_</kbd>ä¹‹å‰ï¼Œå®ä¾‹å·²ç»è¢«åˆ›å»ºï¼Œåˆ›å»ºå®ä¾‹ç”¨åˆ°çš„æ˜¯<kbd>\_\_new\_\_</kbd>ï¼Œå› æ­¤ç§°å…¶ä¸ºçœŸæ­£çš„æ„é€ æ–¹æ³•

çœ‹ä¸€ä¸‹<kbd>\_\_new\_\_</kbd>å¹²äº†ä»€ä¹ˆï¼Œç»™<kbd>object</kbd>ç±»ä¸­çš„<kbd>\_\_new\_\_</kbd>åŠ ç‚¹æ–™

```python
class Person(object):
    def __new__(cls, *args, **kwargs):
        print("æˆ‘æ˜¯__new__")
        instance = super(Person,cls).__new__(cls)
        return instance

    def __init__(self, name, age):
        print("æˆ‘æ˜¯__init__")
        self.name = name
        self.age = age

p = Person("ning", 22)
print(p.name)  # è®¿é—®å®ä¾‹å˜é‡name
print(p.age)  # è®¿é—®å®ä¾‹å˜é‡age

è¿è¡Œç»“æœï¼š
æˆ‘æ˜¯__new__  # åˆ›å»ºå¯¹è±¡éœ€è¦æ‰§è¡Œ__new__æ–¹æ³•
æˆ‘æ˜¯__init__  # å®ä¾‹åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œ__init__æ–¹æ³•
ning
22
```

<kbd>\_\_new\_\_</kbd>å¯ä»¥è®©æˆ‘ä»¬æ§åˆ¶ä¸€äº›ç±»çš„å®ä¾‹åŒ–è¿‡ç¨‹ä¸ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥å®ç°ä¸€äº›ç‰¹æœ‰åŠŸèƒ½æˆ–è€…ä½¿ç”¨å…³äºå…ƒç±»çš„ä¸€äº›ä¸œè¥¿

```python
class myint(int):
    def __new__(cls, *args,**kwargs):
        print('æˆ‘æ˜¯ __new__')
        return super(myint,cls).__new__(cls,abs(*args))  # absæ–¹æ³•ç”¨äºå–ç»å¯¹å€¼

print(myint(-1))
print(int(-1))

è¿è¡Œç»“æœï¼š
æˆ‘æ˜¯__new__
1
-1
```

<kbd>\_\_new\_\_</kbd>å¯ä»¥è®©æˆ‘ä»¬å®ç°å•ä¸€å®ä¾‹ï¼ˆç”Ÿæˆçš„æ¯ä¸ªå®ä¾‹éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼‰

```python
class Single(object):
    def __new__(cls):
        if not hasattr(cls, 'myinstance'):  # hasattr() å‡½æ•°ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦åŒ…å«å¯¹åº”çš„å±æ€§
            cls.myinstance = super(Single, cls).__new__(cls)
        return cls.myinstance  # æ¯æ¬¡ç”Ÿæˆçš„éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹


obj1 = Single()
obj2 = Single()

obj1.attr1 = 'wd'
print(obj1.attr1, obj2.attr1)
print(obj1 is obj2)  # è¿”å›Trueè¡¨æ˜æ˜¯åŒä¸€ä¸ªå®ä¾‹

è¿è¡Œç»“æœï¼š
wd wd
True
```

## çˆ¶ç±»ä¸å­ç±»<kbd>\_\_init\_\_</kbd>çš„ä½¿ç”¨

å½“ä¸€ä¸ªå­ç±»è¢«åˆ›å»ºæ—¶ï¼ˆä¸æ˜¯å®ä¾‹åŒ–ï¼‰å¯ä»¥ä¸å†™<kbd>\_\_init\_\_</kbd>æ–¹æ³•ï¼Œå®ä¾‹åŒ–å®ƒæ—¶ä¼šéšå¼ä½¿ç”¨çˆ¶ç±»çš„<kbd>\_\_init\_\_</kbd>æ–¹æ³•ï¼Œä½†å¦‚æœå­ç±»å®šä¹‰äº†ä¸€ä¸ª<kbd>\_\_init\_\_</kbd>æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨å­ç±»å®ä¾‹åŒ–æ—¶ä¸ä¼šéšå¼ä½¿ç”¨çˆ¶ç±»çš„<kbd>\_\_init\_\_</kbd>æ–¹æ³•ï¼Œæ­¤æ—¶å¦‚æœä»æƒ³ä½¿ç”¨çˆ¶ç±»çš„<kbd>\_\_init\_\_</kbd>æ–¹æ³•ï¼Œéœ€è¦åœ¨å­ç±»ä¸­æ˜¾å¼è°ƒç”¨çˆ¶ç±»<kbd>\_\_init\_\_</kbd>æ–¹æ³•

## Python ç»§æ‰¿ã€å¤šæ€

Python å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„æ–¹æ³•ä¸å±æ€§å¹¶è¿›è¡Œæ–¹æ³•é‡å†™ä»¥å®ç°æ–°çš„å­ç±»ç‹¬æœ‰åŠŸèƒ½

## Python çš„å¤šç»§æ‰¿ Mixln

åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿æ—¶ï¼Œä¸»çº¿ä¸€èˆ¬æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥ï¼Œä½†æ˜¯å¦‚æœéœ€è¦é¢å¤–çš„åŠŸèƒ½ï¼Œåœ¨ Python ä¸­å¯ä»¥é€šè¿‡å¤šç»§æ‰¿å®ç°ï¼ŒPython æ”¯æŒåŒæ—¶ç»§æ‰¿å¤šä¸ªçˆ¶ç±»ï¼Œè¿™ç§è®¾è®¡è¢«ç§°ä¸º Mixln

è¿™æ ·è·å–æ›´å¤šçš„æ‰©å±•åŠŸèƒ½æ—¶ï¼Œä¸éœ€è¦é€šè¿‡å¤æ‚åºå¤§çš„ç»§æ‰¿é“¾æ¡ï¼Œç›´æ¥ä½¿ç”¨å¤šç»§æ‰¿å³å¯

## Python çš„ object ç±»

| python 2.x | python 2.x       | python 3.x       | python 3.x       |
| ---------- | ---------------- | ---------------- | ---------------- |
| ä¸ç»§æ‰¿object | ç»§æ‰¿object       | ä¸ç»§æ‰¿objectä¹Ÿä¼šè‡ªåŠ¨ç»§æ‰¿object | ç»§æ‰¿object       |
| \_\_doc\_\_    | \_\_doc\_\_  | \_\_doc\_\_      | \_\_doc\_\_      |
| \_\_module\_\_ | \_\_module\_\_ | \_\_module\_\_  | \_\_module\_\_  |
| è‡ªå®šä¹‰å±æ€§ | è‡ªå®šä¹‰å±æ€§   | è‡ªå®šä¹‰å±æ€§   | è‡ªå®šä¹‰å±æ€§   |
|            | \_\_class\_\_    | \_\_class\_\_    | \_\_class\_\_    |
|            | \_\_delattr\_\_  | \_\_delattr\_\_  | \_\_delattr\_\_  |
|            | \_\_dict\_\_     | \_\_dict\_\_     | \_\_dict\_\_     |
|            | \_\_format\_\_   | \_\_format\_\_   | \_\_format\_\_   |
|   |\_\_getattribute\_\_ | \_\_getattribute\_\_ | \_\_getattribute\_\_ |
|            | \_\_hash\_\_     | \_\_hash\_\_     | \_\_hash\_\_     |
|            | \_\_init\_\_     | \_\_init\_\_     | \_\_init\_\_     |
|            | \_\_new\_\_      | \_\_new\_\_      | \_\_new\_\_      |
|            | \_\_reduce\_\_   | \_\_reduce\_\_   | \_\_reduce\_\_   |
|           | \_\_reduce_ex\_\_| \_\_reduce_ex\_\_ | \_\_reduce_ex\_\_ |
|            | \_\_repr\_\_     | \_\_repr\_\_     | \_\_repr\_\_     |
|            | \_\_setattr\_\_  | \_\_setattr\_\_  | \_\_setattr\_\_  |
|            | \_\_sizeof\_\_   | \_\_sizeof\_\_   | \_\_sizeof\_\_   |
|            | \_\_str\_\_      | \_\_str\_\_      | \_\_str\_\_      |
|   | \_\_subclasshook\_\_ | \_\_subclasshook\_\_ | \_\_subclasshook\_\_|
|            | \_\_weakref\_\_  | \_\_weakref\_\_  | \_\_weakref\_\_  |
|            |                  | \_\_dir\_\_      | \_\_dir\_\_      |
|            |                  | \_\_eq\_\_       | \_\_eq\_\_       |
|            |                  | \_\_ge\_\_       | \_\_ge\_\_       |
|            |                  | \_\_gt\_\_       | \_\_gt\_\_       |
|            |                  | \_\_le\_\_       | \_\_le\_\_       |
|            |                  | \_\_lt\_\_       | \_\_lt\_\_       |
|            |                  | \_\_ne\_\_       | \_\_ne\_\_       |

## <kbd>@property</kbd>

åœ¨æˆ‘ä»¬ä½¿ç”¨ç±»æ—¶ï¼Œéœ€è¦å¯¹ä¸€äº›å±æ€§è¿›è¡Œé™åˆ¶ï¼Œä¸å…è®¸å…¶éšæ„æ”¹å˜ã€‚æ­¤æ—¶å¯ä»¥ç”¨å°è£…çš„æ€æƒ³è®¾ç½®ä¸€ä¸ª<kbd>get</kbd>æ–¹æ³•å’Œä¸€ä¸ª<kbd>set</kbd>æ–¹æ³•ï¼Œåœ¨è®¿é—®æ­¤å±æ€§æ—¶éœ€è¦è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ ·ä»£ç å°±æ˜¾å¾—å¾ˆå•°å—¦å¤æ‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°è£…é¥°å™¨

é€šè¿‡<kbd>@property</kbd>å¯ä»¥ä½¿å¾—<kbd>get</kbd>æ–¹æ³•ï¼ˆå°†<kbd>get</kbd>å†™æˆä¸€ä¸ªä¸å±æ€§åŒåçš„æ–¹æ³•å³å¯ï¼‰å˜æˆä¸€ä¸ªå±æ€§ï¼Œæ—¢ä¿ç•™äº†å°è£…çš„ä¼˜ç‚¹åˆå¯ä»¥åƒå®ä¾‹å±æ€§ä¸€æ ·ç›´æ¥è®¿é—®å±æ€§

åªè®¾ç½®ä¸€ä¸ª<kbd>get</kbd>æ–¹æ³•å¯ä»¥å°†å±æ€§è®¾ç½®ä¸ºåªè¯»å±æ€§

æ”¾ä¸€ä¸ªè®²è§£[é“¾æ¥ğŸ”—](https://www.liaoxuefeng.com/wiki/1016959663602400/1017502538658208)

## <kbd>\_\_slots\_\_</kbd>

Python æ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ·»åŠ å±æ€§ä¸æ–¹æ³•ï¼Œååˆ†çµæ´»

```python
class Student(object):
    pass

s = Student()
s.name = 'Michael' # åŠ¨æ€ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªå±æ€§
print(s.name)

def set_age(self, age): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ä¾‹æ–¹æ³•
    self.age = age

from types import MethodType
s.set_age = MethodType(set_age, s) # ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•ï¼Œä»…æ­¤å®ä¾‹å¯ä»¥ä½¿ç”¨
s.set_age(25) # è°ƒç”¨å®ä¾‹æ–¹æ³•
print(s.age) # æµ‹è¯•ç»“æœ

s2 = Student() # åˆ›å»ºæ–°çš„å®ä¾‹
# s2.set_age(25) # å°è¯•è°ƒç”¨æ–¹æ³•ï¼ŒæŠ¥é”™ ---> Studentå¯¹è±¡ä¸å­˜åœ¨set_ageæ–¹æ³•å±æ€§

def set_score(self, score):
    self.score = score
Student.set_score = set_score  # ç»™ç±»ç»‘å®šä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€æœ‰å®ä¾‹å‡å¯ä½¿ç”¨

s.set_score(100)  # ç»‘å®šæ–¹æ³•åˆ°ç±»åï¼Œæ‰€æœ‰å®ä¾‹å‡å¯è°ƒç”¨
print(s.score)
s2.set_score(99)
print(s2.score)
```

ä½†æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éšæ„æ·»åŠ å±æ€§å¯èƒ½ä¼šå¾ˆå±é™©ï¼Œå¦‚ä½•åŠ ä»¥é™åˆ¶å‘¢ï¼Ÿ

å¯ä»¥ä½¿ç”¨<kbd>\_\_slots\_\_</kbd>å˜é‡æ¥æ§åˆ¶ä¸€ä¸ªç±»å¯ä»¥æ·»åŠ çš„å±æ€§ï¼Œå¦‚ä½•ä½¿ç”¨ï¼Ÿ

```python
__slots__ = ('name', 'age')  # å®šä¹‰ç±»æ—¶ä½¿ç”¨å…ƒç»„æ¥æŒ‡å®šå¯æ·»åŠ çš„å±æ€§ï¼Œæœªå‡ºç°åœ¨å…ƒç»„ä¸­çš„å±æ€§è¢«æ·»åŠ æ—¶ä¼šæŠ¥é”™ AttributeError
```

æ³¨æ„ï¼šå­ç±»æ— æ³•ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„<kbd>\_\_slots\_\_</kbd>å˜é‡ï¼Œä¸€èˆ¬ï¼Œ<kbd>\_\_slots\_\_</kbd>å˜é‡ä»…åœ¨å½“å‰ç±»ä¸­ç”Ÿæ•ˆï¼Œä½†æ˜¯å½“å­ç±»ä¸­ä¹Ÿå®šä¹‰äº†ä¸€ä¸ª<kbd>\_\_slots\_\_</kbd>å˜é‡ï¼Œé‚£ä¹ˆå­ç±»ä¸­å¯ä»¥æ·»åŠ çš„å˜é‡ä¸ºå­ç±»<kbd>\_\_slots\_\_</kbd>å˜é‡åŠ ä¸Šçˆ¶ç±»çš„<kbd>\_\_slots\_\_</kbd>å˜é‡

## <kbd>\_\_call\_\_</kbd>
åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ª<kbd>\_\_call\_\_</kbd>æ–¹æ³•å¯ä»¥å®ç°å¯¹å®ä¾‹çš„ç›´æ¥è°ƒç”¨

å¯¹è±¡æ˜¯å¦å¯è°ƒç”¨å¦‚ä½•åˆ¤æ–­ï¼Ÿè¯·ä½¿ç”¨<kbd>callable()</kbd>æ–¹æ³•

## å…ƒç±»

å…ƒç±»çš„æ¦‚å¿µå¥½åƒå¾ˆå¤æ‚

å…¶å®åªéœ€è¦ä¸€å¥è¯â€”â€”å…ƒç±»å°±æ˜¯ç±»(class)çš„ç±»å‹ï¼Œè¯»ä¸‰éå°±èƒ½åŠ æ·±ç†è§£âœ…ğŸ˜…

## <kbd>type()</kbd>

æˆ‘ä»¬çŸ¥é“ï¼ŒPythonä¸­å¯ä»¥ä½¿ç”¨<kbd>type()</kbd>æ¥æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹

```python
print(type('new'),type(1),type([]),type(()))

è¿è¡Œç»“æœï¼š
<class 'str'> <class 'int'> <class 'list'> <class 'tuple'>
```

æˆ‘ä»¬è¿˜çŸ¥é“ï¼ŒPythonä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆä¸€ä¸ªç±»å¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿæ³¨æ„ï¼Œè¿™é‡Œè¯´çš„ä¸æ˜¯ç±»çš„å®ä¾‹åŒ–ï¼Œä»…ä»…æ˜¯ç”¨ä¸€ä¸ª<kbd>class</kbd>å®šä¹‰çš„ç±»å¯¹è±¡

```python
class Test(object):
    def __init__(self):
        super().__init__()
    def test(self):
        pass

print(type(Test()))

è¿è¡Œç»“æœï¼š
<class '__main__.test'>
```

å†çœ‹ä¸€ä¸‹ä¸€äº›å†…ç½®ç±»çš„ç±»å‹

```python
print(type(int),type(str))

è¿è¡Œç»“æœï¼š
<class 'type'> <class 'type'>
```

å“¦ï¼Ÿè¿™äº›ç±»çš„ç±»å‹æ˜¯<kbd>type</kbd>? é‚£ä¹ˆ<kbd>type</kbd>çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œç»§ç»­çœ‹

```python
print(type(type))

è¿è¡Œç»“æœï¼š
<class 'type'>
```

çœ‹æ¥åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œ<kbd>type</kbd>çš„ç±»å‹è¿˜æ˜¯<kbd>type</kbd>

<kbd>type</kbd>å°±æ˜¯Pythonä¸­å†…ç½®çš„å…ƒç±»ï¼Œæˆ‘ä»¬è‡ªå·±æ‰€å®šä¹‰çš„ç±»å¯ä»¥å®ä¾‹åŒ–ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå…ƒç±»ä¹Ÿå¯ä»¥å®ä¾‹åŒ–ï¼Œç”Ÿæˆä¸€ä¸ªç±»(ç”±æˆ‘ä»¬å®šä¹‰çš„)ã€‚

```
å…ƒç±» ---> ç±» ---> å®ä¾‹
```

åœ¨Pythonä¸­ï¼Œå¯ä»¥ä½¿ç”¨<kbd>type</kbd>æ¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯•ä¸€ä¸‹

```python
def testadd(self,a,b):
    return a+b

Test = type('Test', (object,), dict(testadd=testadd))

t = Test()
print(t.testadd(1,1))
print(type(Test))

è¿è¡Œç»“æœï¼š
2
<class 'type'>
```

é€šè¿‡<kbd>type</kbd>å’Œç”¨<kbd>class</kbd>å®šä¹‰çš„ç±»æ˜¯ä¸€æ ·çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯â€˜æ™®é€šçš„ç±»â€™ï¼ŒPythonæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå½“è§£é‡Šå™¨é‡åˆ°<kbd>class</kbd>å…³é”®å­—æ—¶ï¼ŒåŸæ¥åªæ˜¯è¯†åˆ«ä¸€ä¸‹è¯­æ³•ï¼Œç„¶åå†ç”¨<kbd>type</kbd>åˆ›å»ºä¸€ä¸ªç±»

è¿™å°±æ˜¯å…ƒç±»çš„ä½œç”¨ï¼ŒæŒ‰æˆ‘ä»¬çš„æ ‡å‡†ç”Ÿäº§ç±»

## ç±»çš„åˆ›å»ºè¿‡ç¨‹

è¿™ä¸€éƒ¨åˆ†æ˜¯æ¬è¿[é“¾æ¥ğŸ”—](https://lotabout.me/2018/Understanding-Python-MetaClass/)

![ç±»çš„åˆ›å»º](img/in-post/../../../img/in-post/Python-class/IMAGE%202020-10-25%2017:19:04.jpg)

1. å½“ Python è§åˆ°<kbd>class</kbd>å…³é”®å­—æ—¶ï¼Œä¼šé¦–å…ˆè§£æ<kbd>class...</kbd>ä¸­çš„å†…å®¹ã€‚ä¾‹å¦‚è§£æåŸºç±»ä¿¡æ¯ï¼Œæœ€é‡è¦çš„æ˜¯æ‰¾åˆ°å¯¹åº”çš„å…ƒç±»ä¿¡æ¯ï¼ˆé»˜è®¤æ˜¯ <kbd>type</kbd>)
2. å…ƒç±»æ‰¾åˆ°åï¼ŒPython éœ€è¦å‡†å¤‡ namespace ï¼Œå¦‚æœå…ƒç±»å®ç°äº† \_\_prepare\_\_ å‡½æ•°ï¼Œåˆ™ä¼šè°ƒç”¨å®ƒæ¥å¾—åˆ°é»˜è®¤çš„namespace 
3. ä¹‹åæ˜¯è°ƒç”¨ <kbd>exec</kbd>æ¥æ‰§è¡Œç±»çš„ bodyï¼ŒåŒ…æ‹¬å±æ€§å’Œæ–¹æ³•çš„å®šä¹‰ï¼Œæœ€åè¿™äº›å®šä¹‰ä¼šè¢«ä¿å­˜è¿› namespace
4. ä¸Šè¿°æ­¥éª¤ç»“æŸåï¼Œå°±å¾—åˆ°äº†åˆ›å»ºç±»éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™æ—¶ Python ä¼šè°ƒç”¨å…ƒç±»çš„æ„é€ å‡½æ•°æ¥çœŸæ­£åˆ›å»ºç±»

å¦‚æœä½ æƒ³åœ¨ç±»çš„åˆ›å»ºè¿‡ç¨‹ä¸­åšä¸€äº›å®šåˆ¶(customization)çš„è¯ï¼Œåˆ›å»ºè¿‡ç¨‹ä¸­ä»»ä½•ç”¨åˆ°äº†å…ƒç±»çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½èƒ½é€šè¿‡è¦†ç›–å…ƒç±»çš„é»˜è®¤æ–¹æ³•æ¥å®ç°å®šåˆ¶ã€‚è¿™ä¹Ÿæ˜¯å…ƒç±»â€œæ— æ‰€ä¸èƒ½â€çš„æ‰€åœ¨ï¼Œå®ƒæ·±æ·±åœ°åµŒå…¥äº†ç±»çš„åˆ›å»ºè¿‡ç¨‹

## å…ƒç±»çš„åº”ç”¨

> Metaclasses are deeper magic that 99% of users should never worry about it. If you wonder whether you need them, you don't (the people who actually need them to know with certainty that they need them and don't need an explanation about why).
>
>*Python Guru Tim Peters*

ç­‰æˆ‘èƒ½ç”¨åˆ°å†å†™å§ï¼

å»ºè®®é˜…è¯»ï¼š[ğŸ”—stackoverflow](*https://stackoverflow.com/a/6581949/12523821*)çš„å…³äºå…ƒç±»å›ç­”

